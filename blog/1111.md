
#### 目录配置
```
Linux 目录配置的依据 FHS

因为 Linux 的开发者实在太多了，如果每个人都发展出属于自己的目录配置方法， 那么将可能会造成很
多管理上的困扰。您能想象，您进入一个企业之后，所接触到的 Linux 目录配置方法竟然跟您以前学的完
全不同吗？！很难想象吧～所以，后来就有所谓的 Filesystem Hierarchy Standard (FHS) 标准的出炉了！ 
 
这个 FHS ( http://www.pathname.com/fhs/ ) 事实上仅是规范出在根目录 ( / ) 底下各个主要的目录应
该是要放置什么样的档案而已。 FHS 定义出两层规范出来，第一层是 / 底下的各个目录应该要放置什么
样内容的档案数据，例如 /etc 应该要放置设定档， /bin 与 /sbin 则应该要放置可执行档等等。第二层
则是针对 /usr 及 /var 这两个目录的次目录来定义的。 例如 /var/log 放置系统登录文件、 /usr/share 
放置共享数据等等。 
 
由于 FHS 仅是定义出最上层 (/) 及次层 (/usr, /var) 的目录内容应该要放置的档案数据， 因此，在其
它个次目录层级内，就可以随开发者自行来配置了。举例来说， FC4 的网络设定数据放在 
/etc/sysconfig/network-script/ 目录下，但是 SuSE Server 9 则是将网络放置在 
/etc/sysconfig/network/ 目录下，目录名称可是不同的呢！ 
 
另外，在 Linux 底下，所有的档案与目录都是由根目录 / 开始的！那是所有目录与档案的源头～ 然后再
一个一个的分支下来，有点像是树枝状啊～因此，我们也称这种目录配置方式为：『目录树 (directory 
tree)』 这个目录树有什么特性呢？他主要的特性有：
  
目录树的启始点为根目录 (/, root)； 
每一个目录不止能使用本地端的 partition 的档案系统，也可以使用网络上的 filesystem 。
举例来说， 可以利用 Network File System (NFS) 服务器挂载某特定目录等。 
每一个档案在此目录树中的文件名(包含完整路径)都是独一无二的。 
此外，根据档名写法的不同，也可将所谓的路径 (path) 定义为绝对路径 (absolute) 与相对路径 
(relative)。
 
绝对路径为：由根目录 (/) 开始写起的文件名或目录名称， 例如 /home/dmtsai/.bashrc；
相对路径为相对于目前路径的文件名写法。 例如 ./home/dmtsai 或 ../../home/dmtsai/ 等等。反正开
头不是 / 就属于相对路径的写法， 而您必须要了解，相对路径是以『您当前所在路径的相对位置』来表
示的。举例来说，您目前在 /home 这个目录下， 如果想要进入 /var/log 这个目录时，可以怎么写呢？  
cd /var/log (absolute)  ? cd ../var/log (relative) 

因为您在 /home 底下，所以要回到上一层 (../) 之后，才能继续往 /var 来移动的！ 特别注意这两个特
殊的目录：  

. ：代表当前的目录，也可以使用 ./ 来表示； 
.. ：代表上一层目录，也可以 ../ 来代表。 
这个 . 与 .. 目录概念是很重要的，您常常会看到 cd .. 或 ./command 之类的指令下达方式， 就是代
表上一层与目前所在目录的工作状态喔！很重要的吶！此外，针对『档名』与『完整档名 (由 / 开始写起
的文件名)』 的字符限制大小为：  

单一档案或目录的最大容许文件名为 255 个字符；  
包含完整路径名称及目录 (/) 之完整档名为 4096 个字符。
 
我们知道 /var/log/ 底下有个文件名为 message ，这个 message 档案的最大的档名可达 255 个字符。 
var 与 log 这两个上层目录最长也分别可达 255 个字符。但总的来说，由 /var/log/messages 这样完整
档名最长则可达 4096 个字符。

小提示：
这个 root 在 Linux 里面的意义真的很多很多～多到让人搞不懂
那是啥玩意儿。 如果以『账号』的角度来看，所谓的 root 指的
是『系统管理员！』的身份， 如果以『目录』的角度来看，所谓
的 root 意即指的是根目录，就是 / 啦～ 要特别留意喔

目录配置的内容 

从前一小节的说明，您可以了解的是， FHS 定义出两层目录内的规范，那么如果您来到根目录查阅目录数
据， 会显示什么呢？ 
[root@linux ~]# ls -l / 
drwxr-xr-x   2 root root  4096 Jul 14 05:22 bin 
drwxr-xr-x   3 root root  4096 Jul  9 05:18 boot 
drwxr-xr-x   9 root root  4880 Jul 11 00:45 dev 
drwxr-xr-x   6 root root  4096 Jun 29 01:06 disk1 
drwxr-xr-x   3 root root  4096 Jun 25 08:53 disk2 
drwxr-xr-x  83 root root 12288 Jul 14 05:23 etc 
drwxr-xr-x   6 root root  4096 May 30 20:07 home 
drwxr-xr-x  10 root root  4096 Jul 14 05:23 lib 
drwx------   2 root root 16384 Jun 25 16:21 lost+found 
drwxr-xr-x   3 root root  4096 Jun 25 19:34 media 
drwxr-xr-x   2 root root  4096 Apr 25 23:54 misc 
drwxr-xr-x   2 root root  4096 May 23 12:28 mnt 
drwxr-xr-x   2 root root  4096 May 23 12:28 opt 
dr-xr-xr-x  59 root root     0 Jul 10 01:25 proc 
drwx------   9 root root  4096 Jul 13 11:31 root 
drwxr-xr-x   2 root root  4096 Jul 14 05:22 sbin 
drwxr-xr-x   2 root root  4096 Jun 25 08:23 selinux 
drwxr-xr-x   2 root root  4096 May 23 12:28 srv 
drwxr-xr-x  10 root root     0 Jul 10 01:25 sys 
drwxr-xr-x  10 root root  4096 Jun 25 20:24 system 
drwxrwxrwt  10 root root  4096 Jul 14 05:23 tmp 
drwxr-xr-x  14 root root  4096 Jun 25 08:27 usr 
drwxr-xr-x  24 root root  4096 Jun 25 20:16 var 
从属性的角度来看，上面的档名每个都是『目录名称』，较为特殊的是 root ，由于 root 这个目录是管
理员 root 的家目录，这个家目录可重要了！ 所以一定要设定成较为严密的 700 ( rwx------ )这个属性
才行吶！如果以较为完整的树状目录来视察的话， 可以将整个 Linux 的树状目录： 
第一层：/
第二层:/bin /boot(/boot/grub) /dev /etc(/etc/init.d /etc/sysconfig) /home(/home/liaojiaxin) /lib(/lib/modules) /mnt /opt /proc /root /sbin /srv
/sys /tmp /usr(/usr/bin /usr/X11R6 /usr/share /usr/local ) /var(/var/log /var/lib /var/spool /var/run)

请注意，每个目录都是依附在 / 这个根目录底下的，所以我们在安装的时候一定要有一个 / 对应的 
partition 才能安装的原因即在于此！这也就是我们俗称的『树状目录』啰！而根据 FHS 定义出来的每个目录内应该放置的档案内容为

目录/
应放置的档案内容：  
根目录 root (/)，一般建议在根目录底下只接目录，不要直接有档案在 / 底下。 
根目录是开机的时候系统第一个挂载的 partition ，所以，所有开机过程会用到
的档案， 应该都要放置在这个 partition 当中。举例来说， /etc, /bin, /dev, 
/lib, /sbin 这五个次目录都应该要与根目录连在一起，不可独立成为某个 
partition 呢！ 

目录/bin, /usr/bin, /usr/local/bin 

除了 /bin 之外， /usr/local/bin, /usr/bin 也是放置『使用者可执行的 binary 
file 的目录』喔！举例来说， ls, mv, rm, mkdir, rmdir, gzip, tar, cat, cp, 
mount 等等重要指令都放在这个目录当中。

目录/boot
 
这个目录主要的目的是放置 Linux 系统开机会用到的档案。 开机会用到什么呢？
没错～就是 Linux 的核心档案。这个目录底下文件名为 vmlinuz 的就是 Linux 
的 Kernel 啦！粉重要的东西！ 而如果你的开机管理程序 (loader) 选择 grub 的
话，那么这个目录内还有 /boot/grub 这个次目录呦 

目录/dev 

在 Linux 系统上，任何装置与接口设备都是以档案的型态存在于这个目录当中的。 
您只要透过存取这个目录底下的某个档案，就等于存取某个装置啰～ 主要又分为
接口设备 (character device)，例如键盘、鼠标等；以及储存设备 (block device)， 
例如硬盘、光盘等等。在此目录下的档案会多出两个属性，分别是 major device 
number ， 与 minor device number 。我们的系统核心就是透过这两个 number 来
判断装置的呢！ 比要重要的档案有 /dev/null, /dev/tty[1-6], /dev/ttyS*, 
/dev/lp*, /dev/hd*, /dev/sd* 等等

目录/etc 

系统主要的设定文件几乎都放置在这个目录内，例如人员的账号密码文件、 各种
服务的启始档等等。一般来说，这个目录下的各档案属性是可以让一般使用者查阅
的， 但是只有 root 有权力修改。并且在此目录下的档案几乎都是 ASCII 的纯文
本文件哩。 不过， FHS 建议不要放置可执行文件在这个目录中喔。比较重要的档
案有： 
/etc/inittab, /etc/init.d/, /etc/modprobe.conf, /etc/X11, 
/etc/fstab, /etc/sysconfig/ 等等。另外，其下重要的目录有：  

/etc/init.d/：所有服务的预设启动 script 都是放在这里的，例如要启 动或者关闭 iptables 的话： 
/etc/init.d/iptables start  
/etc/init.d/iptables stop 

 /etc/xinetd.d/：这就是所谓的 super daemon 管理的各项服务的设定文 件目录。 
 
/etc/X11：与 X Window 有关的各种设定档都在这里，尤其是 xorg.conf 或 XF86Config 这两个 X Server 的设定档

目录/home
 
这是系统预设的使用者家目录 (home directory)。在你新增一个一般使用者账号
时， 预设的使用者家目录都会规范到这里来。比较重要的是，家目录有两种代号
喔： 
~：代表目前这个使用者的家目录，而  
~dmtsai ：则代表 dmtsai 的家目录！

目录/lib, /usr/lib, /usr/local/lib 

系统会使用到的函式库放置的目录。 程序在运作的过程中，可能会呼叫一些额外
的功能参数，那需要函式库的协助！ 这些函式库就放在此处。比较重要的是 
/lib/modules 这个目录内会摆放 kernel 的相关模块喔

目录/lost+found
 
系统不正常产生错误时，会将一些遗失的片段放置于此目录下， 通常这个目录会
自动出现在某个 partition 最顶层的目录下。例如你加装一棵硬盘于 /disk 中， 
那在这个目录下就会自动产生一个这样的目录 /disk/lost+found
 
目录/mnt ，/media
 
这是软盘与光盘预设挂载点的地方；通常软盘挂在 /mnt/floppy 下，而光盘挂在 
/mnt/cdrom 下，不过也不一定啦！只要你高兴，随便找一个地方来挂载也可以呀！
另外，目前也规划出另一个 /media 的目录呢！与 /mnt 有点类似啦

目录/opt
 
这是给主机额外安装软件所摆放的目录。举例来说， FC4 使用的是 Fedora 社群
开发的软件， 如果您今天想要自行安装新的 KDE 桌面软件的话，可以将该软件安
装在这个目录下的意思。 不过，以前的 Linux 系统中，我们还是习惯放置在 
/usr/local 目录下呢！ 

目录/proc
 
这个目录本身是一个『虚拟档案系统』喔！他放置的数据都是在内存当中， 例如
系统核心、形成信息、接口设备的状态及网络状态等等。因为这个目录下的数据都
是在内存当中， 所以本身不占任何硬盘空间啊！比较重要的档案例如：
/proc/cpuinfo, /proc/dma, /proc/interrupts, /proc/ioports, /proc/net/* 等
等。 

目录/root
 
系统管理员 (root) 的家目录。之所以放在这里， 是因为我们提过，系统第一个
开机就被挂载的 partition 为 / ， 而我们希望 /root 能够与 / 放在同一块 
partition 上面之故

目录：/sbin, /usr/sbin, /usr/local/sbin 
放置一些系统管理员才会动用到的执行指令，例如： fdisk, mke2fs, fsck, 
mkswap, mount 等等。与 /bin 不太一样的地方，这几个目录是给 root 等系统管
理用的。但是本目录下的执行文件还是可以让一般使用者用来『察看』而不能设定
喔

目录：/srv 

一些服务启动之后，这些服务所需要取用的数据目录。举例来说，WWW 服务器需要
的网页资料就可以放置在 /srv/www 里面

目录/tmp 

这是让一般使用者或者是正在执行的程序暂时放置档案的地方。 这个目录是任何
人都能够存取的，所以您需要定期的清理一下。当然，重要数据不可放置在此目录
啊！ 

目录/usr
 
由 FHS 规范的第二层内容，在 /usr 此目录下，包含系统的主要程序、 图形接口
所需要的档案、额外的函式库、本机端所自行安装的软件，以及共享的目录与文件
等等， 都可以在这个目录当中发现。事实上，他有点像是 Windows 操作系统当中
的『Program files』与 『WinNT』这两个目录的结合！在此目录下的重要次目录
有：  

/usr/bin, /usr/sbin：一般身份使用者与系统管理员可执行的档案放置 目录；   

/usr/include：c/c++等程序语言的档头 (header) 与包含档(include) 放置处， 
当我们以 tarball 方式 (*.tar.gz 的方式安装软件) 安装某
些数据时，会使用到里头的许多包含档喔！； 

/usr/lib：各应用软件的函式库档案放置目录；   

/usr/local：本机端自行安装的软件预设放置的目录。目前也适用于 /opt 目录。 在你安装完了 Linux 之后，基本上所有的配备你都有了，但是软
件总是可以升级的， 例如你要升级你的 proxy 服务，则通常软件预设的
安装地方就是在 /usr/local (local 是『当地』的意思)，同时，安装完
毕之后所得到的执行文件，为了与系统原先的执行文件有分别， 因此升
级后的执行档通常摆在 /usr/local/bin 这个地方。给个建议啦， 通常
鸟哥都会将后来才安装上去的软件放置在这里，因为便于管理呦；  
/usr/share：共享文件放置的目录，例如底下两个目录：  /usr/share/doc：放置一些系统说明文件的地方，例如你安装了 grub 了， 那么在该目录底下找一找，就可以查到 lilo 的说明文件了！很是便利！ 
/usr/share/man：manpage 的文件档案目录；那是什么？呵呵！ 就是你 使用 man 的时候，会去查询的路径呀！例如你使用 man ls 这个指令时，
就会查出 /usr/share/man/man1/ls.1.gz 这个说明档的内容啰！/usr/src：Linux 系统相关的程序代码放置目录，例如 /usr/src/linux 为核心原始码！ /usr/X11R6：系统内的 X Window System 所需的执行档几乎都放在这

目录/var 

这个目录也很重要，也是 FHS 规范的第二层目录内容。他主要放置的是针对系统
执行过程中， 常态性变动的档案放置的目录。举例来说，例如快取档案 (cache) 或
者是随时变更的登录档 (log file) 都是放在这个目录中的。此外，某些软件执行
过程中会写入的数据库档案， 例如 MySQL 数据库，也都写入在这个目录中！很重
要吧！他底下的重要目录有：  
/var/cache：程序档案在运作过程当中的一些暂存盘； /var/lib：程序本身执行的过程中，需要使用到的数据文件放置的目录， 举例来说， locate 这个数据库与 MySQL 及 rpm 等数据库系统，都写在
这个目录内。
/var/log：登录文件放置的目录。很重要啊！例如 /var/log/messages 就 是总管所有登录档的一个档案！ /var/lock：某些装置具有一次性写入的特性，例如 tab (磁带机)， 此 时，为了担心被其它人干扰而破坏正在运作的动作，因此，会将该装置 
lock (锁住)起来， 以确定该装置只能被单一个程序所使用啊！  /var/run：某些程序或者是服务启动后，会将他们的 PID 放置在这个目 录下喔！  /var/spool：是一些队列数据存放的地方。举例来说，主机收到电子邮件 后， 就会放置到 /var/spool/mail 当中，若信件暂时发不出去，就会放
置到 /var/spool/mqueue 目录下， 使用者工作排程 (cron) 则是放置在 
/var/spool/cron 当中！ 

建议不可与 root partition 分开的目录 

我们在 安装 FC4 那个章节里面，有提到磁盘分割 (partition) 的概念对吧！在 Linux 的安装里面，最
重要的就是根目录 / 所在的那个 partition 了。 我们也可以将其它的例如 /home 放在不同的 
partition 里面。那么是否有『一定』要放在 root partition 内的目录呢？有啊！那就是： /etc/, /sbin/, 
/bin/, /dev/ 以及 /lib/ 这几个目录了。 
 
为什么呢？因为我们的 Linux 系统在开机的时候，一开始进行核心加载时， 只会挂载一个 partition ，
那就是 / 。但是开机的时候会用到很多的指令与函式库，举例来说，要挂载， 就得需要 mount 这支程序，
而且我们也需要 init 这支程序，还需要用到很多的设定档，例如 /etc/inittab 等等。而我们核心的模
块则是放置在 /lib 里面。当然， /dev 是所有装置放置的目录， 也需要在开机的时候使用到的。因此，
这些目录都需要跟 / 绑在一起喔！ 先有概念即可，下面两章会跟您介绍所谓的 partition 概念的！ 

建议最好独立成为单一 partition 的目录  上面提到的是最好不要跟 / 这个 partition 分离的目录。至于有些目录则是因为安全性与特殊功能性， 
而希望能够独立成为一个自己的 partition 呢！例如： /home, /usr, /var, /tmp 等等

我们必须要先知道的，系统上的使用者个人家目录在 /home 里面， 这个目录也是可能被使用的最频繁的
目录之一。此外，为了资源分配较为平均， 我们可能会希望针对每个人限制他可以使用的最大硬盘总量 
(quota)，在这个前提之下， 您就必须要将 /home 独立出来，而且最好这个 partition 能够大一点，尤
其是您的 Linux 是作为档案服务器 (file server) 时，就更形重要了。 
 
至于 /usr 则是一些程序安装的目录，也可以独立出来的；还有 /var/， 这个目录由于记录了相当多的常
用数据，读取真的是很频繁，所以是『很容易挂点的 partition 一！』 如果能够将他独立出来，那么当 /var/ 
真的、万一、不小心挂点时，就不会影响到其它的 partition ， 最起码能有一定程度的安全性啦

特别重要的几个目录  除了针对 partition 的观念来谈目录的重要性之外，有几个比较重要的目录您也需要了解一下：

/etc：这个目录是系统设定文件放置的地方， 包括您系统上的账号与密码 (/etc/passwd, /etc/shadow)，还有开机时所要用到的各项设定值 (/etc/sysconfig/*) ，还有各主要的网络服务的设定文件，都在这个目录中。 意思就是说，如果这个目录底下的档案被删除或者是死掉了，
定期将这个目录的所有档案给他备份下来， 反正这个目录的大小应该不会超过 50MB 才对，多多备份，有备无患啊！ 

/usr/local：虽然说目前已经将这个目录的重要性移动到 /opt 了， 但是还是比较习惯将我 自己开发或自行额外安装的软件放置在这个 /usr/local 目录下。 如果您的 Linux 系统是多人
共管的话，那么，养成一个良好的操作习惯是有必要的。 那么安装软件的习惯也要好好建立起来
啊～不要随意安装呢！ 统一放置在 /usr/local 或者是 /opt 底下吧

/var：在上面提过一次，这里再次强调。 这个目录是在管理系统运作过程中的重要中间暂存数据 的，例如 /var/lib 与 /var/run 。 此外，最终的数据例如邮件 /var/spool/mail 也是放置在
这个目录中～ 另外，几乎所有服务的登录文件 (可以记录谁、什么时候、由哪里登入主机、做了
什么事等等信息！) 都放在 /var/log 这个目录下，因此，这个目录也很重要。记得常常去检查 
/var/log/messages 这个档案是否有异常啊～ 

好了，知道了 Linux 的档案权限，目前也知道了各个档案内可能摆放的数据是什么了， 那么再来说说你
的目录与磁盘分割之间的相关性。通常一般的大型主机都不会将所有的数据放置在一个磁盘中 ( 就是只有
一个『 / 』根目录 )，这有几个目的：

安全性考虑： 你的系统通常是在 /usr/ 中，而个人数据则可能放置在 /home 当中，至于一些开机数据则放置
在 /etc 当中。如果将所有的数据放在一起，当你的系统不小心被黑客破坏，或者不小心自己砍
了一个小东西， 则所有的咚咚也都跟着不见了.....这对于我们市井小民或许无所谓，再安装一
次就好了， 但是对于一些大型企业可不行这样！因此需要将数据分别放置于不同的磁盘中，会比
较保险些。  

便利性： 如果你需要升级你的系统的话，是否需要重新 format 安装呢？有些数据例如 /home 里面的数据
为个人用户的数据，似乎与系统无关！所以如果你将这些数据分别放置于不同的磁盘， 则你要升
级或者进行一些系统更动时，将比较有弹性

你或许可以将你的系统做成这样的 partition 分布：  
/ 
/boot 
/usr 
/home 
/var 

这是比较常见的磁盘分布情况，其中：  
/ 根目录可以分配约 1 GB 以内； 
/boot 大概在 50 MB 就可以了，因为开机档案并不大；  
/var 就至少需要 1GB 以上，因为你的 mail 、 proxy 预设的储存区都在这个目录中，除非你要 将一些设定改变！  
/home 与 /usr 通常是最大的，因为你所安装的数据都是在 /usr/ 当中，而用户数据则放置在 /home 当中，因此通常大家都会建议你将所剩下的磁盘空间平均分配给这两个目录说！ 不过也不
一定啦！ /usr 大概给个 10G 就很多了～其它的可以都给 /home ，也可以保留一些剩余空间来
作为以后的安装与设定用啊！ 
无论如何，每部主机的环境与功能用途都不相同，自然其磁盘的分配就会不太一样
```
#### linux支持的档案系统
```
Linux 支持的档案系统 我们在本章前面提到的都是单一档案的属性与相关信息，以及单一目录在 Filesystem Hierarchy Standard 
(FHS) 当中的定义，还没有提到所谓的 partition 的相关概念。底下我们就约略来谈一谈，那么我们前面
提到的这些档案、目录， 是放在什么样的档案系统内呢？ 
 
什么是档案系统 (filesystem) 呢？目前的操作系统大多数是将数据由硬盘读出来的， 那么每个操作系统
使用的硬盘在 x86 架构上的，都一样啊！都是同样的硬盘。 但是，每种操作系统都有其独特的读取档案
的方法，也就是说， 每种操作系统对硬盘读取的方法不同，所以就造就了不同的档案系统了。 

 
举例来说， Windows 98 预设的档案系统是 FAT (或 FAT16) 档案系统， Windows 2000 有所谓的 NTFS 档
案系统，至于 Linux 的正统档案系统则为 ext2 ( Linux second extended file system, ext2fs ) 这一
个。 我们的系统能不能读取某个档案系统，与前面提过的『核心功能』有关。 Linux 核心必须要能够认
识某种档案系统后，我们的 Linux 才能读取该档案系统的数据内容啊！ 也就是说，你必须要将你所想要
支持的档案系统编译到你的核心当中才能被支持 。因此，您可以发现， Windows 与 Linux 安装在同一个
硬盘的不同 partition 时， Windows 将不能取用 Linux 的硬盘数据， Why ? 就因为 Windows 的核心不
认识 Linux 的档案系统呀！ 
 
目前 Fedora Core IV 预设的档案系统为 ext3 (Third Extended File System)， 他是 Ext2 的升级版，
主要是增加了日志 (journaling) 的功能，但是 ext3 还是向下支持 ext2 等。 另外，如果你需要将你原
有的 Windows 系统也挂载在 Linux 底下的话，那么 Linux 同时也支持 MS-DOS, VFAT, FAT, BSD 等等的
档案系统。至于 Window NT 的 NTFS 档案系统则不见得每一个 Linux distribution 都有支持，例如我们
的 FC4 预设就没有支持了。 问我怎么看出来的？呵呵！ Linux 能够支持的档案系统与核心是否有编译进
去有关， 所以你可以到你的 Linux 系统的：  /lib/modules/`uname -r`/kernel/fs  
该目录底下看一看，如果有你想要的档案系统，那么这个核心就有支持啦！ 很多 Linux 所需要的功能都
可以在 ext2 上面完成，不过 ext2 缺乏日志管理系统， 如果发生问题时，修复过程会比较慢一些。所以
最近释出的 Linux distribution 大多已经预设采用 ext3 或 reiserfs 这种具有日志式管理的档案系统
了。 
 
那么什么是日志式档案系统呢？举例来说， ext3 与 ext2 有啥不同？ ext3 其实只是多做了一个日志式
数据的纪录。当我们要在将数据写入硬盘时， ext2 是直接将数据写入，但是 ext3 则会将这个『要开始
写入』的讯息写入日志式记录区， 然后才开始进行数据的写入。在数据写入完毕后，又将『完成写入动作』
的讯息写入日志式记录区， 这有什么好处呢？最大的好处就是数据的完整性与『恢复力』。 
 
什么是『恢复力』呢？早期的 ext2 档案系统如果发生类似断电后时，档案系统就得要检查档案一致性。 这
个检查的过程要将整个 partition 内的档案做一个完整的比较，哇！很慢很慢、很久很久啊～ 如果是 ext3 
的话，那么只要透过检查『日志记录区』就可以知道断电时，是否有哪些档案正在进行写入的动作， 只要
检查这些地方即可～这样就能够节省很多档案检查的时间呢！ 
 
这样知道为何要选择 ext3 了吧？我们还可以引用 Red Hat 公司中，首席核心开发者 Michael K. Johnson 
的话： 
『为什么你想要从 ext 2 转换到 ext3 呢？有四个主要的理由：可利用性、数据完整性、速度
及易于转换』『可利用性』，他指出，这意味着从系统中止到快速重新复原而不是持续的让 e2fsck 
执行长时间的修复。ext3 的日志式条件可以避免数据毁损的可能。他也指出：『除了写入若干
数据超过一次时，ext3 往往会较快于 ext2，因为 ext3 的日志使硬盘读取头的移动能更有效
的进行』然而或许决定的因素还是在 Johnson 先生的第四个理由中。 
 
『它是可以轻易的从 ext2 变更到 ext3 来获得一个强而有力的日志式档案系统而不需要重新
做格式化』。『那是正确的，为了体验一下 ext3 的好处是不需要去做一种长时间的，冗长乏
味的且易于产生错误的备份工作及重新格式化的动作』。 
```





